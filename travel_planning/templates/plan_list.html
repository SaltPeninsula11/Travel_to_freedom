{% extends "base.html" %}

{% load static %}

{% block head_title %}旅行検索{% endblock %}


{% block content %}
<style>
    /* プランカードのスタイル */
    .card-horizontal {
        display: flex;
        flex: 1 1 auto;
    }
</style>
    <main class="main mt-3">
        <div class="m-2">
            <div class="container">
                <h1 class="text-center">人気プランランキング</h1>
                <div class="row">
                    <div class="col-md-4">
                        <div class="card mb-4 shadow-sm">
                            <img class="card-img-top" src="{% static 'images.png' %}" alt="Card image cap">
                            <div class="card-body">
                                <p class="card-text">This is a wider card with supporting text below as a natural
                                    lead-in to additional content. This content is a little bit longer.</p>
                                <div class="d-flex justify-content-between align-items-center">
                                    <div class="btn-group">
                                        <button type="button" class="btn btn-sm btn-outline-secondary">見る</button>
                                    </div>
                                    <small class="text-muted">北海道</small>
                                    <small class="text-muted">9 mins</small>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="card mb-4 shadow-sm">
                            <img class="card-img-top" src="{% static 'images.png' %}" alt="Card image cap">
                            <div class="card-body">
                                <p class="card-text">This is a wider card with supporting text below as a natural
                                    lead-in to additional content. This content is a little bit longer.</p>
                                <div class="d-flex justify-content-between align-items-center">
                                    <div class="btn-group">
                                        <button type="button" class="btn btn-sm btn-outline-secondary">見る</button>
                                    </div>
                                    <small class="text-muted">北海道</small>
                                    <small class="text-muted">9 mins</small>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="card mb-4 shadow-sm">
                            <img class="card-img-top" src="{% static 'images.png' %}" alt="Card image cap">
                            <div class="card-body">
                                <p class="card-text">This is a wider card with supporting text below as a natural
                                    lead-in to additional content. This content is a little bit longer.</p>
                                <div class="d-flex justify-content-between align-items-center">
                                    <div class="btn-group">
                                        <button type="button" class="btn btn-sm btn-outline-secondary">見る</button>
                                    </div>
                                    <small class="text-muted">北海道</small>
                                    <small class="text-muted">9 mins</small>
                                </div>
                            </div>
                        </div>

                    </div>
                </div>
            </div>
        </div>

        <hr>
        <div class="m-2">
            <div class="container">
                <form action="{% url 'travel_planning:list' %}" method="post" class="w-50 mr-auto ml-auto">
                    {% csrf_token %}

                    <div class="form-group">
                        <label for="exampleFormControlSelect1">Example select</label>
                        <select class="form-control" id="exampleFormControlSelect1" name="prefs" onchange="submit(this.form)">
                            <option value="北海道">北海道</option>
                            <option value="青森県">青森県</option>
                            <option value="岩手県">岩手県</option>
                            <option value="宮城県">宮城県</option>
                            <option value="5">秋田県</option>
                            <option value="6">山形県</option>
                            <option value="7">福島県</option>
                            <option value="8">茨城県</option>
                            <option value="9">栃木県</option>
                            <option value="10">群馬県</option>
                            <option value="埼玉県">埼玉県</option>
                            <option value="千葉県">千葉県</option>
                            <option value="東京都">東京都</option>
                            <option value="神奈川県">神奈川県</option>
                            <option value="15">新潟県</option>
                            <option value="16">富山県</option>
                            <option value="17">石川県</option>
                            <option value="18">福井県</option>
                            <option value="19">山梨県</option>
                            <option value="20">長野県</option>
                            <option value="21">岐阜県</option>
                            <option value="22">静岡県</option>
                            <option value="23">愛知県</option>
                            <option value="24">三重県</option>
                            <option value="25">滋賀県</option>
                            <option value="26">京都府</option>
                            <option value="27">大阪府</option>
                            <option value="28">兵庫県</option>
                            <option value="29">奈良県</option>
                            <option value="30">和歌山県</option>
                            <option value="31">鳥取県</option>
                            <option value="32">島根県</option>
                            <option value="33">岡山県</option>
                            <option value="34">広島県</option>
                            <option value="35">山口県</option>
                            <option value="36">徳島県</option>
                            <option value="37">香川県</option>
                            <option value="38">愛媛県</option>
                            <option value="39">高知県</option>
                            <option value="40">福岡県</option>
                            <option value="41">佐賀県</option>
                            <option value="42">長崎県</option>
                            <option value="43">熊本県</option>
                            <option value="44">大分県</option>
                            <option value="45">宮崎県</option>
                            <option value="46">鹿児島県</option>
                            <option value="47">沖縄県</option>
                        </select>
                    </div>
                </form>
                <div class="row">
                    {% for plan in plan_list %}
                    <div class="card mr-auto al-auto mb-4">
                        <div class="card-horizontal">
                            {% if plan.photo %}
                            <div class="img-square-wrapper">
                                <img style="width: 300px; height: 180px;" src="{{ plan.photo.url }}" alt="Card image cap">
                            </div>
                            {% endif %}
                            <div class="card-body">
                                <h4 class="card-title">{{ plan }}</h4>
                                <p class="card-text">{{ plan.detail }}</p>
                                <div class="btn-group">
                                    <a href="{% url 'travel_planning:mydetail' plan.pk %}">
                                        <button type="button" class="btn btn-sm btn-outline-secondary">見る</button>
                                    </a>
                                    {% if user == plan.user %}
                                    <a href="{% url 'travel_planning:share' plan.pk %}">
                                        <button type="button" class="btn btn-sm btn-outline-secondary">投稿</button>
                                    </a>
                                    {% endif %}
                                </div>
                            </div>
                        </div>
                        <div class="card-footer">
                            <small class="text-muted">Last updated 3 mins ago</small>
                        </div>
                    </div>
                    {% endfor %}
                </div>

            </div>
    </main>
    <script type="text/javascript">
        $(function(){
          $("#submit_select").change(function(){
            $("#submit_form").submit();
          });
        });
    </script>
    {% endblock %}